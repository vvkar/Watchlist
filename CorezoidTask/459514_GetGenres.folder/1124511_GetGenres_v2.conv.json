{"obj_type":1,"obj_id":1124511,"parent_id":459514,"title":"GetGenres v2","description":"","status":"active","params":[{"name":"apiCall","type":"array","descr":"Array of api results","flags":[],"regex":"","regex_error_text":""},{"name":"currentPosition","type":"string","descr":"Current index of element in input films array, using to enumerate through input array.","flags":[],"regex":"","regex_error_text":""},{"name":"currentTitle","type":"string","descr":"Title of current enumeration film in array, using to call api","flags":[],"regex":"","regex_error_text":""},{"name":"films","type":"array","descr":"Array of film titles","flags":["required","input"],"regex":"","regex_error_text":""},{"name":"resultList","type":"array","descr":"Sorted array of genres, films and count of genres appearences","flags":["output"],"regex":"","regex_error_text":""},{"name":"lastIndex","type":"string","descr":"Last index of title in films input array","flags":[],"regex":"","regex_error_text":""}],"ref_mask":true,"conv_type":"process","scheme":{"nodes":[{"id":"6332cb1a82ba962c2d3ef33d","obj_type":0,"condition":{"logics":[{"type":"set_param","extra":{"currentPosition":"0","apiCall":"[]","resultList":"[]","genresList":"[]"},"extra_type":{"currentPosition":"number","apiCall":"array","resultList":"array","genresList":"array"},"err_node_id":"6332cb1a82ba962c2d3ef33a"},{"type":"go","to_node_id":"6332cb1a513aa05fb240658f"}],"semaphors":[]},"title":"Set current pos 0","description":"","x":592,"y":416,"uuid":"c894a7bb-931b-4cf5-8b0a-842487f1f56f","extra":"{\"modeForm\":\"expand\",\"icon\":\"\"}","options":null},{"id":"6332cb1a513aa05fb240658f","obj_type":0,"condition":{"logics":[{"type":"api_code","err_node_id":"6332cb1a82ba962c2d3ef33f","lang":"js","src":"data.currentTitle = data.films[data.currentPosition].title;"},{"type":"go","to_node_id":"6332cb1a82ba962c2d3ef345"}],"semaphors":[]},"title":"","description":"","x":592,"y":656,"uuid":"f3c008ac-b0ac-462e-85f3-f6623cf2e6ef","extra":"{\"modeForm\":\"expand\",\"icon\":\"\"}","options":null},{"id":"6332cb1a82ba962c2d3ef342","obj_type":0,"condition":{"logics":[{"type":"api_code","err_node_id":"6332cb1a513aa05fb240658e","lang":"js","src":"for(var i = 0; i < data.genresList.length; i++){\n    var titlesList = [];\n    for(var j =0; j < data.apiCall.length; j++){\n        if(data.apiCall[j].genres.includes(data.genresList[i])){\n            titlesList.push(data.apiCall[j].title);\n        }\n    }\n    var obj = {\n        genre: data.genresList[i],\n        titles: titlesList,\n        count: titlesList.length\n    }\n    data.resultList.push(obj);\n}"},{"type":"go","to_node_id":"6332cb1a513aa05fb2406583"}],"semaphors":[]},"title":"","description":"","x":592,"y":1572,"uuid":"e0258207-6f26-4e2c-8344-0d39937d16a2","extra":"{\"modeForm\":\"expand\",\"icon\":\"\"}","options":null},{"id":"6332cb34513aa05fb240676e","obj_type":0,"condition":{"logics":[{"type":"api_code","err_node_id":"6332cb34513aa05fb2406772","lang":"js","src":"var genres = data.apiCall[data.currentPosition].genres;\n\nfor(var i = 0; i < genres.length; i++){\n    if(!data.genresList.includes(genres[i])){\n        data.genresList.push(genres[i]);\n    }\n}"},{"type":"go","to_node_id":"6332cb1a513aa05fb2406586"}],"semaphors":[]},"title":"Get all genres to genresList","description":"","x":592,"y":1112,"uuid":"c8245106-e75e-4ec2-a0a3-b52959ca5db9","extra":"{\"modeForm\":\"expand\",\"icon\":\"\"}","options":null},{"id":"6332cb34513aa05fb2406771","obj_type":2,"condition":{"logics":[],"semaphors":[]},"title":"","description":"","x":960,"y":1196,"uuid":"1959279c-3cc2-4b67-9a72-7304e562832d","extra":"{\"modeForm\":\"collapse\",\"icon\":\"error\"}","options":null},{"id":"6332cb34513aa05fb2406772","obj_type":3,"condition":{"logics":[{"type":"go_if_const","to_node_id":"6332cb34513aa05fb240676f","conditions":[{"fun":"eq","const":"hardware","param":"__conveyor_code_return_type_error__","cast":"string"}]},{"type":"go_if_const","to_node_id":"6332cb34513aa05fb2406771","conditions":[{"fun":"eq","const":"software","param":"__conveyor_code_return_type_error__","cast":"string"}]},{"type":"go","to_node_id":"6332cb34513aa05fb2406771"}],"semaphors":[]},"title":"","description":"","x":828,"y":1168,"uuid":"f8aa5b23-9f18-4beb-b523-de45940250e9","extra":"{\"modeForm\":\"collapse\",\"icon\":\"\"}","options":null},{"id":"6332cb1a82ba962c2d3ef345","obj_type":0,"condition":{"logics":[{"type":"api_rpc","err_node_id":"6332cb1a513aa05fb2406589","extra":{"title":"{{currentTitle}}","apiCall":"{{apiCall}}"},"extra_type":{"title":"string","apiCall":"array"},"group":"","conv_id":1123876,"obj_to_id":null,"user_id":84506,"convTitle":"FilmApiCall"},{"type":"go","to_node_id":"6332cb34513aa05fb240676e"}],"semaphors":[]},"title":"","description":"","x":592,"y":880,"uuid":"d4fdf728-d496-4e7b-b731-ad6ef8b2bc39","extra":"{\"modeForm\":\"expand\",\"icon\":\"\"}","options":null},{"id":"6332cb34513aa05fb240676f","obj_type":0,"condition":{"logics":[],"semaphors":[{"type":"time","value":30,"dimension":"sec","to_node_id":"6332cb34513aa05fb240676e"}]},"title":"","description":"","x":828,"y":1076,"uuid":"f5e5aeb9-c992-4510-a2fc-14b7a989cf49","extra":"{\"modeForm\":\"collapse\",\"icon\":\"\"}","options":null},{"id":"6332cb1a513aa05fb240658e","obj_type":3,"condition":{"logics":[{"type":"go_if_const","to_node_id":"6332cb1a82ba962c2d3ef346","conditions":[{"fun":"eq","const":"hardware","param":"__conveyor_code_return_type_error__","cast":"string"}]},{"type":"go_if_const","to_node_id":"6332cb1a82ba962c2d3ef341","conditions":[{"fun":"eq","const":"software","param":"__conveyor_code_return_type_error__","cast":"string"}]},{"type":"go","to_node_id":"6332cb1a82ba962c2d3ef341"}],"semaphors":[]},"title":"","description":"","x":844,"y":1640,"uuid":"537d8b2f-967d-4ef1-940a-e9feeec914ca","extra":"{\"modeForm\":\"collapse\",\"icon\":\"\"}","options":null},{"id":"6332cb1a82ba962c2d3ef346","obj_type":0,"condition":{"logics":[],"semaphors":[{"type":"time","value":30,"dimension":"sec","to_node_id":"6332cb1a82ba962c2d3ef342"}]},"title":"","description":"","x":844,"y":1544,"uuid":"69b0dc03-898a-4267-8a56-2c89fdd62ed9","extra":"{\"modeForm\":\"collapse\",\"icon\":\"\"}","options":null},{"id":"6332cb1a82ba962c2d3ef341","obj_type":2,"condition":{"logics":[],"semaphors":[]},"title":"","description":"","x":976,"y":1668,"uuid":"069ff052-b221-4b65-b54b-c00644375af8","extra":"{\"modeForm\":\"collapse\",\"icon\":\"error\"}","options":null},{"id":"6332cb1a513aa05fb2406583","obj_type":2,"condition":{"logics":[],"semaphors":[]},"title":"Final","description":"","x":692,"y":1792,"uuid":"dafce4a7-ff42-4cf2-ae8e-a8b4a052e188","extra":"{\"modeForm\":\"collapse\",\"icon\":\"success\"}","options":"{\"save_task\":true}"},{"id":"6332cb1a82ba962c2d3ef33b","obj_type":0,"condition":{"logics":[],"semaphors":[{"type":"time","value":30,"dimension":"sec","to_node_id":"6332cb1a513aa05fb240658f"}]},"title":"","description":"","x":816,"y":640,"uuid":"db1d9788-06a0-483e-8fd9-882dbea3182d","extra":"{\"modeForm\":\"collapse\",\"icon\":\"\"}","options":null},{"id":"6332cb1a82ba962c2d3ef33e","obj_type":3,"condition":{"logics":[{"type":"go_if_const","to_node_id":"6332cb1a82ba962c2d3ef33c","conditions":[{"fun":"eq","const":"hardware","param":"__conveyor_code_return_type_error__","cast":"string"}]},{"type":"go_if_const","to_node_id":"6332cb1a513aa05fb240658b","conditions":[{"fun":"eq","const":"software","param":"__conveyor_code_return_type_error__","cast":"string"}]},{"type":"go","to_node_id":"6332cb1a513aa05fb240658b"}],"semaphors":[]},"title":"","description":"","x":1408,"y":940,"uuid":"80359a93-a7f9-4ab8-9a91-9fdd709841e1","extra":"{\"modeForm\":\"collapse\",\"icon\":\"\"}","options":null},{"id":"6332cb1a513aa05fb2406582","obj_type":0,"condition":{"logics":[],"semaphors":[{"type":"time","value":30,"dimension":"sec","to_node_id":"6332cb1a82ba962c2d3ef343"}]},"title":"","description":"","x":844,"y":164,"uuid":"8b3c0393-050c-4ab3-bd8c-4412cdf36163","extra":"{\"modeForm\":\"collapse\",\"icon\":\"\"}","options":null},{"id":"6332cb1a513aa05fb2406587","obj_type":2,"condition":{"logics":[],"semaphors":[]},"title":"","description":"","x":952,"y":752,"uuid":"a965591c-ea84-499d-afa8-7df1329228f6","extra":"{\"modeForm\":\"collapse\",\"icon\":\"error\"}","options":null},{"id":"6332cb1a513aa05fb240658b","obj_type":2,"condition":{"logics":[],"semaphors":[]},"title":"","description":"","x":1544,"y":968,"uuid":"407ec883-3266-4694-9d9d-803b2f4161ee","extra":"{\"modeForm\":\"collapse\",\"icon\":\"error\"}","options":null},{"id":"6332cb1a82ba962c2d3ef33f","obj_type":3,"condition":{"logics":[{"type":"go_if_const","to_node_id":"6332cb1a82ba962c2d3ef33b","conditions":[{"fun":"eq","const":"hardware","param":"__conveyor_code_return_type_error__","cast":"string"}]},{"type":"go_if_const","to_node_id":"6332cb1a513aa05fb2406587","conditions":[{"fun":"eq","const":"software","param":"__conveyor_code_return_type_error__","cast":"string"}]},{"type":"go","to_node_id":"6332cb1a513aa05fb2406587"}],"semaphors":[]},"title":"","description":"","x":816,"y":724,"uuid":"807e0632-7d1f-47d3-876d-80ef2e9725ce","extra":"{\"modeForm\":\"collapse\",\"icon\":\"\"}","options":null},{"id":"6332cb1a82ba962c2d3ef33a","obj_type":2,"condition":{"logics":[],"semaphors":[]},"title":"","description":"","x":884,"y":508,"uuid":"1b9e2756-a564-45c0-8e29-ab54bf4d2ee2","extra":"{\"modeForm\":\"collapse\",\"icon\":\"error\"}","options":null},{"id":"6332cb1a82ba962c2d3ef33c","obj_type":0,"condition":{"logics":[],"semaphors":[{"type":"time","value":30,"dimension":"sec","to_node_id":"6332cb1a513aa05fb2406588"}]},"title":"","description":"","x":1408,"y":848,"uuid":"e681e703-c637-4088-8329-d20ed1129d7a","extra":"{\"modeForm\":\"collapse\",\"icon\":\"\"}","options":null},{"id":"6332cb1a513aa05fb2406585","obj_type":1,"condition":{"logics":[{"type":"go","to_node_id":"6332cb1a82ba962c2d3ef343"}],"semaphors":[]},"title":"Start","description":"","x":692,"y":88,"uuid":"8ee65d04-e7de-4899-a6be-d0c341be7e20","extra":"{\"modeForm\":\"collapse\",\"icon\":\"\"}","options":null},{"id":"6332cb1a513aa05fb2406586","obj_type":0,"condition":{"logics":[{"to_node_id":"6332cb1a513aa05fb2406588","type":"go_if_const","conditions":[{"param":"currentPosition","const":"{{lastIndex}}","fun":"less","cast":"number"}]},{"type":"go","to_node_id":"6332cb1a82ba962c2d3ef342"}],"semaphors":[]},"title":"","description":"","x":592,"y":1364,"uuid":"a6a567c0-f9f9-4146-90da-cfef00ed26ef","extra":"{\"modeForm\":\"expand\",\"icon\":\"\"}","options":null},{"id":"6332cb1a513aa05fb2406589","obj_type":3,"condition":{"logics":[{"type":"go_if_const","to_node_id":"6332cb1a82ba962c2d3ef340","conditions":[{"fun":"eq","const":"crash_api","param":"__conveyor_copy_task_result__","cast":"string"}]},{"type":"go_if_const","to_node_id":"6332cb1a82ba962c2d3ef340","conditions":[{"fun":"eq","const":"rpc_task_fatal_error","param":"__conveyor_rpc_return_type_tag__","cast":"string"}]},{"type":"go_if_const","to_node_id":"6332cb1a513aa05fb240658c","conditions":[{"fun":"eq","const":"access_denied","param":"__conveyor_copy_task_result__","cast":"string"}]},{"type":"go_if_const","to_node_id":"6332cb1a513aa05fb240658c","conditions":[{"fun":"eq","const":"rpc_reply_exception","param":"__conveyor_rpc_reply_return_type_tag__","cast":"string"}]},{"type":"go","to_node_id":"6332cb1a513aa05fb240658c"}],"semaphors":[]},"title":"","description":"","x":828,"y":948,"uuid":"62332b5a-597d-4afc-9485-b85c946af8e7","extra":"{\"modeForm\":\"collapse\",\"icon\":\"\"}","options":null},{"id":"6332cb1a82ba962c2d3ef340","obj_type":0,"condition":{"logics":[],"semaphors":[{"type":"time","value":30,"dimension":"sec","to_node_id":"6332cb1a82ba962c2d3ef345"}]},"title":"","description":"","x":824,"y":868,"uuid":"e7f6867f-cf65-48be-bf22-105f2e9b670e","extra":"{\"modeForm\":\"collapse\",\"icon\":\"\"}","options":null},{"id":"6332cb1a513aa05fb240658d","obj_type":2,"condition":{"logics":[],"semaphors":[]},"title":"","description":"","x":976,"y":288,"uuid":"09c4f03e-5576-4432-adb8-658104ba7b0a","extra":"{\"modeForm\":\"collapse\",\"icon\":\"error\"}","options":null},{"id":"6332cb1a513aa05fb240658c","obj_type":2,"condition":{"logics":[],"semaphors":[]},"title":"","description":"","x":948,"y":988,"uuid":"b6ef8c32-4baa-451c-9f7d-adfc07c319b1","extra":"{\"modeForm\":\"collapse\",\"icon\":\"error\"}","options":null},{"id":"6332cb1a82ba962c2d3ef343","obj_type":0,"condition":{"logics":[{"type":"api_code","err_node_id":"6332cb1a513aa05fb2406584","src":"data.lastIndex = data.films.length-1; ","lang":"js"},{"type":"go","to_node_id":"6332cb1a82ba962c2d3ef33d"}],"semaphors":[]},"title":"Array count","description":"","x":592,"y":180,"uuid":"bc3a6345-8fb8-4eaa-be05-38ac61a964d7","extra":"{\"modeForm\":\"expand\",\"icon\":\"\"}","options":null},{"id":"6332cb1a513aa05fb2406588","obj_type":0,"condition":{"logics":[{"type":"api_code","err_node_id":"6332cb1a82ba962c2d3ef33e","src":"data.currentPosition++;","lang":"js"},{"type":"go","to_node_id":"6332cb1a513aa05fb240658f"}],"semaphors":[]},"title":"","description":"","x":1096,"y":940,"uuid":"cd60df94-88ba-4573-b3ee-a819392cb475","extra":"{\"modeForm\":\"expand\",\"icon\":\"\"}","options":null},{"id":"6332cb1a513aa05fb2406584","obj_type":3,"condition":{"logics":[{"type":"go_if_const","to_node_id":"6332cb1a513aa05fb2406582","conditions":[{"fun":"eq","const":"hardware","param":"__conveyor_code_return_type_error__","cast":"string"}]},{"type":"go_if_const","to_node_id":"6332cb1a513aa05fb240658d","conditions":[{"fun":"eq","const":"software","param":"__conveyor_code_return_type_error__","cast":"string"}]},{"type":"go","to_node_id":"6332cb1a513aa05fb240658d"}],"semaphors":[]},"title":"","description":"","x":844,"y":260,"uuid":"20894605-7b01-43a0-8e43-8af458a9e895","extra":"{\"modeForm\":\"collapse\",\"icon\":\"\"}","options":null}],"web_settings":[[],[]]},"uuid":"af4c4fe8-5748-4070-9bf6-438d21bc5002"}